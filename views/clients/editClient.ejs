<%- include ../layouts/cabeza.ejs %> 
<link rel="stylesheet" href="/stylesheets/form.css">
<%- include ../layouts/cabecera.ejs %> 

<%- include ../layouts/menu-lateral.ejs%> 

<main class="page-content" id="page-content">

  <div class="page-content-container">

    <header>
      <h1>Editar cliente</h1> 
    </header>

    <section class="col-md-6">
      <form method="post" action="/clients/updateClient?codigo=<%=clients[0].codigo%>" class="form" id="formulario">
        <div class="field" id="group-name">
          <label class="field-label" for="nombre">Nombre:</label>
          <input class="field-input" value="<%=clients[0].nombre%>" type="text" name="name" required>
          <span class="icon" id="icon">
          </span>
          <p class="input-message">El nombre tiene que ser de 4 a 16 dígitos y no puede contener números.</p>
        </div>
        <div class="field" id="group-telefono">
          <label class="field-label" for="telefono">Número de teléfono:</label>
          <input class="field-input" value="<%=clients[0].telefono%>" type="tel" name="telefono" required>
          <span class="icon" id="icon">
          </span>
          <p class="input-message">El teléfono solo puede contener números y con un mínimo de 10 dígitos y un máximo de 14 dígitos.</p>
        </div>
        <div value="<%=clients[0].codigo_provincia%>" class="field" id="field-provincias">
          <label class="field-label" for="provincia">Provincia:</label>
          <select class="field-input" name="provincia" id="provincia" required>
            <option value="">Seleccione una opcion</option>
            <% for( let provincia = 0; provincia < provincias.length; provincia++ ) { %>
              <option value="<%=provincias[provincia].codigo%>"><%=provincias[provincia].provincia%></option>
            <% } %>
          </select>
        </div>
        <div value="<%=clients[0].codigo_municipio%>" id="field-municipio" class="field">
          <label class="field-label" for="municipio">Municipio:</label>
          <select class="field-input" name="municipio" id="municipio" required>
          </select>
        </div>
        <div class="field" id="group-sector">
          <label class="field-label" for="sector">Sector:</label>
          <input class="field-input" value="<%=clients[0].sector%>" type="text" name="sector" required>
          <span class="icon" id="icon">
          </span>
          <p class="input-message">El nombre del sector tiene que ser mayor a 3 dígitos y no se permiten números</p>
        </div>
        <div class="field" id="group-calleYNumero">
          <label class="field-label" for="calle_y_numero">Calle y número:</label>
          <input class="field-input" value="<%=clients[0].calle_y_numero%>" type="text" name="calle_y_numero" required>
          <span class="icon" id="icon">
          </span>
          <p class="input-message">El nombre de la calle tiene que ser mayor a 4 dígitos</p>
        </div>
        <div class="field">
          <label class="field-label" for="status">Estado:</label>
          <select class="field-input" name="status">
            <% if (clients[0].estado === 'Activo') { %>
              <option value="true" selected>Activo</option>
              <option value="false">Inactivo</option>
            <% } else { %>
              <option value="true">Activo</option>
              <option value="false" selected>Inactivo</option>  
            <%}%>
          </select>
        </div>
        <div class="buttons-container">
          <a href="/clients" class="button-form" type="button">Cancelar</a>
          <button class="button-form button-primary" name="codigo" value="<%=clients[0].codigo%>" type="submit">Guardar</button>
        </div>
      </form>
    </section>
  </div>
</main>

<script type="module" src="/javascripts/addresses.js"></script>
<script type="module" src="/javascripts/selectedAddress.js"></script>
<script src="/javascripts/clientValidation.js"></script>
<%- include ../layouts/pie.ejs%> 
